# Actions

This repository contains actions to be used with [GitHub Actions](https://github.com/features/actions) internally at Framna Denmark. Please refer to [this page](https://www.notion.so/GitHub-Actions-f38c16cde5c642f5a0c2e05b725af5d0?source=copy_link) for more details on getting started with GitHub Actions and example workflows.

## Getting Started

Several of these actions depend on the 1Password CLI being installed. Please use 1Password's [install-cli-action](https://github.com/1Password/install-cli-action) action to install the 1Password CLI or [load-secrets-action](https://github.com/1Password/load-secrets-action) to load secrets into the workflow's environment.

## Available Actions

| Action                                                                                    | Description                                                                                                                                                                                         |
| ----------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`build-and-upload-to-app-store-connect`](./build-and-upload-to-app-store-connect/)       | Builds an Xcode project, archives the app, exports an IPA from the archive, and uploads it to App Store Connect.                                                                                    |
| [`connect-to-vpn`](./connect-to-vpn/)                                                     | Connects the runner to our a predefined Tailscale exit node.                                                                                                                                        |
| [`create-or-update-pr-comment`](./create-or-update-pr-comment/)                           | Creates (or updates if already exists) a PR comment. Always updates the same comment by default using a hidden marker.                                                                              |
| [`install-appiconannotator`](./install-appiconannotator/)                                 | Installs [appiconannotator](https://github.com/shapehq/appiconannotator).                                                                                                                           |
| [`install-artifactory-profile`](./install-artifactory-profile/)                           | Installs a [JFrog Artifactory](https://artifactory.shapeapp.dk/) profile with read access to internal artifacts.                                                                                    |
| [`install-asc-api-key`](./install-asc-api-key/)                                           | Installs an App Store Connect API key file on the runner and outputs the issuer ID, key ID, and file path of the AuthKey file.                                                                      |
| [`install-certificate`](./install-certificate/)                                           | Installs the specified certificate in the keychain.                                                                                                                                                 |
| [`install-ci-ssh-key`](./install-ci-ssh-key/)                                             | Install the CI's SSH key.                                                                                                                                                                           |
| [`install-company-asc-api-key`](./install-company-asc-api-key/)                           | Installs our company App Store Connect API key file on the runner and outputs the issuer ID, key ID, and file path of the AuthKey file.                                                             |
| [`install-company-development-certificate`](./install-company-development-certificate/)   | Installs our default company development certificate in the keychain.                                                                                                                               |
| [`install-company-distribution-certificate`](./install-company-distribution-certificate/) | Installs our default company distribution certificate in the keychain.                                                                                                                              |
| [`install-provisioning-profile`](./install-provisioning-profile/)                         | Installs a provisioning profile.                                                                                                                                                                    |
| [`install-shipshape`](./install-shipshape/)                                               | Installs Shipshape and sets an activation code.                                                                                                                                                     |
| [`install-ssh-key`](./install-ssh-key/)                                                   | Installs an SSH key or a [deploy key](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys), which is an SSH key that grants access to a single repository. |
| [`jira-comment`](./jira-comment/)                                                         | Adds comment to a Jira issue.                                                                                                                                                                       |
| [`jira-issues-changelog`](./jira-issues-changelog/)                                       | Outputs a list of Jira issue keys mentioned in commit messages between the current commit and the most recent tag.                                                                                  |
| [`loco-translation-status-checker`](./loco-translation-status-checker/)                   | Checks if there are missing translations in the Localize.biz project throws error.                                                                                                                  |
| [`loco-translation-status-poster`](./loco-translation-status-poster/)                     | Checks if there are missing translations in the Localize.biz project and posts warning to Slack.                                                                                                    |
| [`post-slack-message`](./post-slack-message/)                                             | Posts a message to Slack.                                                                                                                                                                           |
| [`render-ios-app-icon-badge`](./render-ios-app-icon-badge/)                               | Adds a badge to an iOS app icon to indicate that the app is meant for testing purposes.                                                                                                             |
| [`swiftlint`](./swiftlint/)                                                               | Runs [SwiftLint](https://github.com/realm/SwiftLint) on a codebase.                                                                                                                                 |
| [`upload-apk-shipshape`](./upload-apk-shipshape/)                                         | Uploads an APK to Shipshape.                                                                                                                                                                        |
| [`upload-artifact-firebase`](./upload-artifact-firebase/)                                 | Uploads an APK to Firebase App Distribution.                                                                                                                                                        |
| [`upload-artifact-play-store`](./upload-artifact-play-store/)                             | Uploads a release build (.apk or .aab) to the internal track of the Play Store.                                                                                                                     |
| [`xcode-select`](./xcode-select/)                                                         | Selects a version of Xcode. The major, minor, and patch values must all be specified, otherwise the action will throw an error.                                                                     |

## Usage

Click on any action name above to view detailed documentation, usage examples, and configuration options for that specific action.
